---
import { cn } from "@/lib/utils";
import { ModeToggle } from "./mode-toggle";

const navLinks = [
    {
        label: "Home",
        href: "/",
    },
    {
        label: "About",
        href: "/about",
    },
    {
        label: "Work",
        href: "/work",
    },
    {
        label: "Acticles",
        href: "/articles",
    },
    {
        label: "Projects",
        href: "/projects",
    },
];

const pathname = Astro.url.pathname;
---

<nav
    class="w-full border-b border-dashed border-grid sticky top-0 z-50 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60"
>
    <div
        class="max-w-4xl px-4 py-2 mx-auto border-dashed border-x flex justify-between items-center"
    >
        <a href="/">
            <h1 class="text-lg font-bold">Louai.b</h1>
        </a>

        <div class="flex justify-center items-center gap-6">
            {
                navLinks.map((link) => (
                    <a
                        href={link.href}
                        class={cn(
                            "group relative flex font-medium flex-col items-center justify-center text-sm text-foreground/70 hover:text-primary duration-150",
                        )}
                    >
                        <span
                            class={cn(
                                "mb",
                                pathname === link.href && "text-primary",
                            )}
                        >
                            {link.label}
                        </span>

                        <span
                            class={cn(
                                "h-[1px] absolute -bottom-1 bg-primary rounded-full transition-all duration-150",
                                pathname === link.href ? "w-full" : "w-0",
                                "group-hover:w-full",
                            )}
                        />
                    </a>
                ))
            }
            <ModeToggle client:load />
        </div>
    </div>
</nav>
