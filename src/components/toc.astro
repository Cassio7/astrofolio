---
import type { MarkdownHeading } from "astro";

interface Props {
  headings: MarkdownHeading[];
}

const { headings } = Astro.props;
---

<div
  class="sticky top-18 mt-4 ml-4 hidden max-h-fit min-w-fit flex-col gap-y-3 rounded-lg lg:flex"
>
  <h3 class:list="text-lg">On This Page</h3>
  {
    headings
      .filter(({ depth }) => depth < 4)
      .map(({ slug, depth, text }) => (
        <a
          href={`#${slug}`}
          class:list={[
            "text-sm font-bold text-foreground/70 no-underline duration-75 hover:text-foreground",
            { "ml-3 font-normal": depth === 3 },
          ]}
        >
          â€¢ {text}
        </a>
      ))
  }
</div>
