---
import { buttonVariants, capitalizeFirstLetter } from "@/lib/utils";
import Layout from "./layout.astro";
import { ArrowLeft } from "lucide-react";
import Navbar from "@/components/navbar/index.astro";
import Footer from "@/components/footer.astro";
import Github from "@/components/ui/icons/github.astro";

import { ExternalLink } from "lucide-react";

import Pattern from "@/components/ui/pattern.astro";

import Box from "@/components/box/index.astro";
import BoxTitle from "@/components/box/title.astro";
import BoxHeader from "@/components/box/header.astro";
import BoxContent from "@/components/box/content.astro";

import LinkBtn from "@/components/ui/link-btn.astro";
import Badge from "@/components/ui/badge.astro";

interface Props {
  title: string;
  technologies: string[];
  sourceCode?: string;
  preview?: string;
}

const { title, technologies, preview, sourceCode } = Astro.props;
---

<Layout title={`${title}`}>
  <Navbar />

  <main class="mx-auto min-h-screen max-w-3xl" aria-label="Main content">
    <Pattern className="h-16">
      <div class="z-1 mx-2 mt-auto flex w-full items-center justify-between">
        <LinkBtn href="/projects">
          <ArrowLeft />
        </LinkBtn>
        <div>
          {
            sourceCode && (
              <LinkBtn target="_blank" href="https://louai.site">
                <Github class="size-4" />
              </LinkBtn>
            )
          }
          {
            preview && (
              <LinkBtn target="_blank" href="https://louai.site">
                <ExternalLink className="size-4" />
              </LinkBtn>
            )
          }
        </div>
      </div>
    </Pattern>

    <Box>
      <BoxHeader>
        <BoxTitle className="text-3xl !font-black"
          >{capitalizeFirstLetter(title)}</BoxTitle
        >
      </BoxHeader>

      <BoxContent className="space-y-4">
        <div class="flex flex-wrap gap-1.5">
          {
            technologies.map(technology => {
              return <Badge>{technology}</Badge>;
            })
          }
        </div>
      </BoxContent>
    </Box>

    <Pattern />
  </main>

  <Box className="min-w-full">
    <BoxContent className="pt-8">
      <article class="prose min-w-full">
        <slot />
      </article>
    </BoxContent>
  </Box>
</Layout>

<Footer />
